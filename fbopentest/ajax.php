<?php

/******BEGIN LICENSE BLOCK*******
* 
* Common Public Attribution License Version 1.0.
*
* The contents of this file are subject to the Common Public Attribution 
* License Version 1.0 (the "License") you may not use this file except in 
* compliance with the License. You may obtain a copy of the License at
* http://developers.facebook.com/fbopen/cpal.html. The License is based 
* on the Mozilla Public License Version 1.1 but Sections 14 and 15 have 
* been added to cover use of software over a computer network and provide 
* for limited attribution for the Original Developer. In addition, Exhibit A 
* has been modified to be consistent with Exhibit B.
* Software distributed under the License is distributed on an "AS IS" basis, 
* WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License 
* for the specific language governing rights and limitations under the License.
* The Original Code is Facebook Open Platform.
* The Original Developer is the Initial Developer.
* The Initial Developer of the Original Code is Facebook, Inc.  All portions 
* of the code written by Facebook, Inc are 
* Copyright 2006-2008 Facebook, Inc. All Rights Reserved.
*
*
********END LICENSE BLOCK*********/


// FBOPEN:NOTE - script based on demo script at :
// http://wiki.developers.facebook.com/index.php/FBJS/Examples/Ajax

include_once 'demo_libs/server_url.php';
?>




These links demonstrate the Ajax object:
<br />
<a href="#" onclick="do_ajax(Ajax.JSON);
 return false;
">JSON
</a>
<br />
<a href="#" onclick="do_ajax(Ajax.RAW);
 return false;
">RAW
</a>
<br />
<a href="#" onclick="do_ajax(Ajax.FBML);
 return false;
">FBML
</a>
<br />
<!-- <label> <input type="checkbox" id="requirelogin" checked="checked" /> <span>Require Login?  </span> </label> -->
<br />
<div>
<span id="ajax1">
</span>
<span id="ajax2">
</span>
</div>
<script>

<fb:error>  
	<fb:message>Error message</fb:message>  
	<fb:message>Error message</fb:message>
	<fb:message>Error message</fb:message>
	<fb:message>Error message</fb:message>
	<fb:message>Error message</fb:message>
	This is the error message text. 
</fb:error>  

var YOUR_APP_SERVER_URL = '<?=$YOUR_APP_SERVER_URL?>';

function do_ajax(type) { var ajax = new Ajax();
 ajax.responseType = type;
 switch (type) { case Ajax.JSON: ajax.ondone = function(data) { document.getElementById('ajax1').setTextValue(data.message + ' The current time is: ' + data.time + '. ');
 document.getElementById('ajax2').setInnerFBML(data.fbml_test);
 };
 break;
 case Ajax.FBML: ajax.ondone = function(data) { document.getElementById('ajax1').setInnerFBML(data);
 document.getElementById('ajax2').setTextValue('');
 };
break;
 case Ajax.RAW: ajax.ondone = function(data) { document.getElementById('ajax1').setTextValue(data);
 document.getElementById('ajax2').setTextValue('');
 };
                break;
 };

// FBOPEN:NOTE - requiring login relies on cookies which may not be possible
// or present in your implementation.
//ajax.requireLogin = document.getElementById('requirelogin').getChecked();


ajax.post(YOUR_APP_SERVER_URL+'/gbSuite/testajax.php?t='+type);

}
</script>
